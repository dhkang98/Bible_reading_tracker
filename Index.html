<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Bible Reading Tracker</title>
  <style>
    body {
      background: url('autumn-wallpaper-picjumbo-com.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      color: #333;
    }

    /* A semi-transparent overlay to ensure text and book tiles are visible. */
    #overlay {
      /* White overlay with some transparency. Adjust '0.5' if needed. */
      background-color: rgba(255, 255, 255, 0.6);
      padding: 20px;
      margin: 0 auto;
      max-width: 900px;
      border-radius: 10px;
    }

    h1, h2 {
      color: #000; /* Dark text on the lighter overlay */
      text-align: center;
      margin: 0;
      padding: 0;
    }

    .legend {
      margin: 15px 0;
      text-align: center;
      color: #000;
    }

    .legend span {
      display: inline-block;
      margin: 0 10px;
      padding: 6px 10px;
      border-radius: 4px;
    }

    .not-read {
      background: #ffffffcc;
      color: #333;
    }

    .read-legend {
      background: #c7f9cc;
      color: #333;
      text-decoration: line-through;
    }

    .book-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 10px;
    }

    /* Smaller “cards” so you can see more at once. Adjust as needed. */
    .book {
      width: 85px;
      background-color: #ffffffcc;
      border: 2px solid #ddd;
      border-radius: 5px;
      margin: 3px;
      padding: 3px;
      cursor: pointer;
      text-align: center;
      font-size: 0.75em;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .book:hover {
      background-color: #e0ebf9;
      transform: scale(1.02);
    }

    .book.read {
      background-color: #c7f9cc;
      text-decoration: line-through;
      color: #444;
    }

    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    #searchInput {
      padding: 5px 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
      min-width: 200px;
    }

    #resetButton {
      padding: 5px 10px;
      border: none;
      border-radius: 4px;
      background-color: #f28b82;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #resetButton:hover {
      background-color: #e57373;
    }

    #progressContainer {
      text-align: center;
      margin: 10px 0;
      color: #000;
    }

    #progressBar {
      width: 100%;
      max-width: 400px;
      height: 20px;
    }

    #progressText {
      display: block;
      margin-top: 5px;
    }

    @media (max-width: 600px) {
      .book {
        width: 70px;
        margin: 2px;
        padding: 2px;
        font-size: 0.65em;
      }
    }
  </style>
</head>
<body>
  <div id="overlay">
    <h1>Festive Bible Reading Tracker</h1>
    <h2>Click on a Book to Toggle Read/Unread</h2>

    <div class="controls">
      <input type="text" id="searchInput" placeholder="Search books..." oninput="renderBooks(this.value)" />
      <button id="resetButton" onclick="resetProgress()">Reset Progress</button>
    </div>

    <div id="progressContainer">
      <progress id="progressBar" max="66" value="0"></progress>
      <span id="progressText"></span>
    </div>

    <div class="legend">
      <span class="not-read">Not Read</span>
      <span class="read-legend">Read</span>
    </div>

    <div class="book-list" id="bookList">
      <!-- Books will be generated by JavaScript below -->
    </div>
  </div>

  <script>
    // All 66 books of the Bible in (Protestant) canonical order
    const allBibleBooks = [
      "Genesis","Exodus","Leviticus","Numbers","Deuteronomy",
      "Joshua","Judges","Ruth","1 Samuel","2 Samuel",
      "1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra",
      "Nehemiah","Esther","Job","Psalms","Proverbs",
      "Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations",
      "Ezekiel","Daniel","Hosea","Joel","Amos",
      "Obadiah","Jonah","Micah","Nahum","Habakkuk",
      "Zephaniah","Haggai","Zechariah","Malachi",
      "Matthew","Mark","Luke","John","Acts",
      "Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians",
      "Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy",
      "2 Timothy","Titus","Philemon","Hebrews","James",
      "1 Peter","2 Peter","1 John","2 John","3 John",
      "Jude","Revelation"
    ];

    // Pre-marked books you've read so far
    const userReadBooks = [
      "Psalms", "Proverbs", "Isaiah", "1 John", "2 John", "3 John",
      "1 Peter", "2 Peter", "James", "Colossians", "Philippians",
      "Ephesians", "Luke", "2 Corinthians", "1 Corinthians",
      "Romans", "John"
    ];

    // Load any saved read-status from browser localStorage
    let savedReadBooks = JSON.parse(localStorage.getItem("readBooks")) || [];

    // Merge localStorage data with userReadBooks
    userReadBooks.forEach(book => {
      if (!savedReadBooks.includes(book)) {
        savedReadBooks.push(book);
      }
    });

    function saveReadBooks() {
      localStorage.setItem("readBooks", JSON.stringify(savedReadBooks));
    }

    function toggleBook(bookName) {
      const index = savedReadBooks.indexOf(bookName);
      if (index === -1) {
        savedReadBooks.push(bookName); // Mark as read
      } else {
        savedReadBooks.splice(index, 1); // Mark as unread
      }
      saveReadBooks();
      renderBooks(document.getElementById("searchInput").value);
    }

    function updateProgress() {
      const count = savedReadBooks.length;
      const progressBar = document.getElementById("progressBar");
      const progressText = document.getElementById("progressText");
      if (progressBar) {
        progressBar.value = count;
      }
      if (progressText) {
        const pct = Math.round((count / allBibleBooks.length) * 100);
        progressText.textContent = `${count}/${allBibleBooks.length} books read (${pct}%)`;
      }
    }

    function resetProgress() {
      savedReadBooks = [...userReadBooks];
      saveReadBooks();
      renderBooks(document.getElementById("searchInput").value);
    }

    function renderBooks(filter = "") {
      const bookList = document.getElementById("bookList");
      bookList.innerHTML = "";

      allBibleBooks
        .filter(book => book.toLowerCase().includes(filter.toLowerCase()))
        .forEach(book => {
          const bookDiv = document.createElement("div");
          bookDiv.className = "book" + (savedReadBooks.includes(book) ? " read" : "");
          bookDiv.textContent = book;
          bookDiv.onclick = () => toggleBook(book);
          bookList.appendChild(bookDiv);
        });

      updateProgress();
    }

    // Initial render
    renderBooks();
  </script>
</body>
</html>
